<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hola Mundo</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="flash-overlay flashit"></div>
    <canvas id="rainCanvas"></canvas>
    <canvas id="lightningCanvas"></canvas>
    <nav class="navbar">
        <div class="nav-content">
            <a href="#" class="nav-logo">AO</a>
            <div class="hamburger">
                <div></div>
                <div></div>
                <div></div>
            </div>
            <div class="nav-links">
                <a href="#home" class="nav-link active">Home</a>
                <a href="#about" class="nav-link">Sobre Mi</a>
                <a href="#contact" class="nav-link">Contacto</a>
                <a href="#info" class="nav-link">Informacion</a>
            </div>
        </div>
    </nav>

    <div class="container" id="sectionContainer">
        <div id="home" class="section active">
            <div class="avatar-wrapper">
                <div class="npc-alert">!</div>
                <div class="speech-bubble" data-dialog="0">¡Hola! Soy Ale</div>
                <div class="speech-bubble" data-dialog="1">¿Cómo estás?</div>
                <div class="speech-bubble" data-dialog="2">No tengo más diálogo</div>
                <div class="avatar-container">
                    <img src="images/avatar.png" alt="Avatar" class="avatar-image">
                </div>
            </div>
            <h1>Bienvenido</h1>
            <p class="description">Soy Alejandro Otero un front end developer de Argentina, con experiencia en desarrollo y mantenimiento web.</p>
        </div>
        <div id="about" class="section">
            <h1>Sobre Mi</h1>
            <p>Frontend developer con experiencia en React, Next.js y Css.</p>
        </div>
        <div id="contact" class="section">
            <h1>Contacto</h1>
            <p>¿Interesado en trabajar juntos?</p>
            <div class="contact-links">
                <a href="mailto:locolajefa@gmail.com" class="contact-email persistent-link">locolajefa@gmail.com</a>
                <a href="https://wa.me/541140588867" target="_blank" class="contact-whatsapp persistent-link">WhatsApp</a>
            </div>
        </div>
        <div id="info" class="section">
            <h1>Informacion</h1>
            <p>Tengo 27 años, vivo en Argentina y llevo una vida activa mientras equilibro mi pasión por la programación.</p>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <p>by Alejandro Otero 2025 | Frontend Test</p>
        </div>
    </footer>
    <script src="rain.js"></script>
    <script src="carousel.js"></script>
    <script>
        // Control de la animación inicial del flash
        window.addEventListener('load', () => {
            const flashOverlay = document.querySelector('.flash-overlay');
            
            // Removemos temporalmente la clase flashit
            flashOverlay.classList.remove('flashit');
            
            // Ejecutamos un flash inicial después de 1 segundo
            setTimeout(() => {
                flashOverlay.style.animation = 'flash 2s ease-out';
                
                // Después del flash inicial, restauramos el comportamiento normal
                setTimeout(() => {
                    flashOverlay.style.animation = '';
                    flashOverlay.classList.add('flashit');
                }, 2000);
            }, 1000);
        });

        // Agregar funcionalidad al menú hamburguesa
        document.querySelector('.hamburger').addEventListener('click', () => {
            document.querySelector('.nav-links').classList.toggle('show');
        });

        // Cerrar menú al hacer click en un enlace
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                document.querySelector('.nav-links').classList.remove('show');
            });
        });

        // Sistema de diálogos mejorado
        let currentDialog = 0;
        let isAnimating = false;

        document.querySelector('.avatar-container').addEventListener('click', async function() {
            if (isAnimating) return;
            isAnimating = true;
            
            const npcAlert = document.querySelector('.npc-alert');
            const speechBubbles = document.querySelectorAll('.speech-bubble');
            
            // Ocultar todos los diálogos
            speechBubbles.forEach(bubble => {
                bubble.classList.remove('show');
                bubble.style.display = 'none';
            });
            
            // Resetear contador si llega al final
            if (currentDialog >= speechBubbles.length) {
                currentDialog = 0;
            }
            
            // Mostrar signo de exclamación
            npcAlert.classList.remove('show');
            void npcAlert.offsetWidth; // Forzar reflow
            npcAlert.classList.add('show');
            
            // Esperar a que aparezca el signo
            await new Promise(resolve => setTimeout(resolve, 800));
            
            // Mostrar burbuja de diálogo
            speechBubbles[currentDialog].style.display = 'block';
            void speechBubbles[currentDialog].offsetWidth; // Forzar reflow
            speechBubbles[currentDialog].classList.add('show');
            
            // Esperar a que termine la animación
            setTimeout(() => {
                isAnimating = false;
                currentDialog++;
            }, 1500);
        });
    </script>
</body>
</html>
